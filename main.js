/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};

// main.ts
__export(exports, {
  default: () => WordPopupPlugin
});
var import_obsidian2 = __toModule(require("obsidian"));

// pattern_matcher.ts
var TrieNode = class {
  constructor() {
    this.children = {};
    this.value = null;
  }
};
var Trie = class {
  constructor(terms) {
    this.root = new TrieNode();
    for (const { term, value } of terms) {
      this.insert(term, value);
    }
  }
  insert(term, value) {
    let node = this.root;
    for (const char of term) {
      if (!node.children[char]) {
        node.children[char] = new TrieNode();
      }
      node = node.children[char];
    }
    node.value = value;
  }
  lookup(query) {
    const results = [];
    const visited = new Set();
    this._lookupHelper(this.root, query, 0, results, [], visited);
    return results;
  }
  _lookupHelper(node, query, index, results, wildcardMatches, visited) {
    if (index === query.length) {
      if (node.value !== null && !visited.has(node)) {
        results.push({
          value: node.value,
          match: wildcardMatches.slice()
        });
        visited.add(node);
      }
      return;
    }
    const char = query[index];
    if (node.children[char]) {
      this._lookupHelper(node.children[char], query, index + 1, results, wildcardMatches, visited);
    }
    if (char.match(/^[0-9a-z]+$/) && node.children["*"]) {
      const newWildcardMatches = wildcardMatches.concat(char);
      this._lookupHelper(node.children["*"], query, index + 1, results, newWildcardMatches, visited);
    }
  }
  typeAhead(query) {
    let nodes = [{ node: this.root, index: 0 }];
    const results = [];
    const collectedNodes = new Set();
    while (nodes.length > 0) {
      let nextNodes = [];
      for (const { node, index } of nodes) {
        if (index === query.length) {
          this._collectValues(node, results, collectedNodes);
        } else {
          const char = query[index];
          if (node.children[char]) {
            nextNodes.push({
              node: node.children[char],
              index: index + 1
            });
          }
          if (char.match(/^[0-9a-z]+$/) && node.children["*"]) {
            nextNodes.push({
              node: node.children["*"],
              index: index + 1
            });
          }
        }
      }
      nodes = nextNodes;
    }
    return results;
  }
  _collectValues(startNode, results, collectedNodes) {
    let queue = [startNode];
    const visitedNodes = new Set();
    while (queue.length > 0) {
      const node = queue.shift();
      if (visitedNodes.has(node)) {
        continue;
      }
      visitedNodes.add(node);
      if (node.value !== null && !collectedNodes.has(node)) {
        results.push(node.value);
        collectedNodes.add(node);
      }
      for (const childNode of Object.values(node.children)) {
        queue.push(childNode);
      }
    }
  }
};
var RegexMatcher = class {
  constructor(patterns) {
    this.patterns = patterns.map((p) => ({
      regex: new RegExp(p.pattern),
      replacements: p.replacements
    }));
  }
  addPattern(pattern) {
    this.patterns.push({
      regex: new RegExp(pattern.pattern),
      replacements: pattern.replacements
    });
  }
  getSuggestions(input) {
    const suggestions = [];
    let fastReplace = false;
    for (const pattern of this.patterns) {
      const matches = input.match(pattern.regex);
      if (matches) {
        for (const replacement of pattern.replacements) {
          let result = replacement;
          for (let i = 1; i < matches.length; i++) {
            result = result.replace(`$${i}`, matches[i] || "");
          }
          suggestions.push(result);
        }
      }
    }
    return { suggestions, fastReplace };
  }
};
var SuggestionMatcher = class {
  constructor(patterns) {
    const trieTerms = patterns.flatMap((conf) => {
      if (!conf.type) {
        return [{ term: conf.pattern, value: conf }];
      }
      return [];
    });
    this.trie = new Trie(trieTerms);
    const regexTerms = patterns.flatMap((conf) => {
      if (conf.type && conf.type === "regex") {
        return [conf];
      }
      return [];
    });
    this.regexes = new RegexMatcher(regexTerms);
  }
  replacePlaceholders(value, matches) {
    return value.replace(/\$([1-9]\d*)/g, (match, indexStr) => {
      const index = parseInt(indexStr, 10) - 1;
      if (index < matches.length) {
        return matches[index];
      }
      return match;
    });
  }
  getMatchingPatterns(searchString) {
    return this.trie.lookup(searchString);
  }
  getSuggestions(searchString) {
    const results = this.trie.lookup(searchString);
    const suggestions = [];
    let fastReplace = false;
    results.forEach(({ value: conf, match: wildcardMatches }) => {
      conf.replacements.forEach((replacement) => {
        const suggestion = this.replacePlaceholders(replacement, wildcardMatches);
        suggestions.push(suggestion);
      });
      fastReplace = fastReplace || !!conf.fastReplace;
    });
    const rs = this.regexes.getSuggestions(searchString);
    suggestions.push(...rs.suggestions);
    fastReplace = (fastReplace || rs.fastReplace) && suggestions.length === 1;
    return { suggestions, fastReplace };
  }
};

// config.ts
var DEFAULT_CONFIG = {
  renderMath: false,
  patterns: [
    { pattern: "or", replacements: ["\\lor"] },
    { pattern: "and", replacements: ["\\land"] },
    { pattern: "not", replacements: ["\\lnot"] },
    { pattern: "=>", replacements: ["\\implies"] },
    { pattern: "<=>", replacements: ["\\iff"] },
    { pattern: "a", replacements: ["\\alpha", "\\aleph"] },
    { pattern: "b", replacements: ["\\beta"] },
    { pattern: "g", replacements: ["\\gamma"] },
    { pattern: "d", replacements: ["\\delta"] },
    { pattern: "e", replacements: ["\\epsilon", "\\varepsilon"] },
    { pattern: "z", replacements: ["\\zeta"] },
    { pattern: "h", replacements: ["\\eta"] },
    { pattern: "t", replacements: ["\\theta", "\\vartheta"] },
    { pattern: "i", replacements: ["\\iota"] },
    { pattern: "k", replacements: ["\\kappa"] },
    { pattern: "l", replacements: ["\\lambda"] },
    { pattern: "m", replacements: ["\\mu"] },
    { pattern: "n", replacements: ["\\nu"] },
    { pattern: "x", replacements: ["\\xi"] },
    { pattern: "o", replacements: ["\\omicron"] },
    { pattern: "p", replacements: ["\\pi", "\\varpi"] },
    { pattern: "r", replacements: ["\\rho", "\\varrho"] },
    { pattern: "s", replacements: ["\\sigma", "\\varsigma"] },
    { pattern: "u", replacements: ["\\upsilon"] },
    { pattern: "f", replacements: ["\\phi", "\\varphi"] },
    { pattern: "c", replacements: ["\\chi"] },
    { pattern: "y", replacements: ["\\psi"] },
    { pattern: "w", replacements: ["\\omega"] },
    { pattern: "A", replacements: ["\\Alpha"] },
    { pattern: "B", replacements: ["\\Beta"] },
    { pattern: "G", replacements: ["\\Gamma"] },
    { pattern: "D", replacements: ["\\Delta"] },
    { pattern: "E", replacements: ["\\Epsilon"] },
    { pattern: "Z", replacements: ["\\Zeta"] },
    { pattern: "H", replacements: ["\\Eta"] },
    { pattern: "T", replacements: ["\\Theta"] },
    { pattern: "I", replacements: ["\\Iota"] },
    { pattern: "K", replacements: ["\\Kappa"] },
    { pattern: "L", replacements: ["\\Lambda"] },
    { pattern: "M", replacements: ["\\Mu"] },
    { pattern: "N", replacements: ["\\Nu"] },
    { pattern: "X", replacements: ["\\Xi"] },
    { pattern: "O", replacements: ["\\Omicron"] },
    { pattern: "P", replacements: ["\\Pi"] },
    { pattern: "R", replacements: ["\\Rho"] },
    { pattern: "S", replacements: ["\\Sigma"] },
    { pattern: "U", replacements: ["\\Upsilon"] },
    { pattern: "F", replacements: ["\\Phi"] },
    { pattern: "C", replacements: ["\\Chi"] },
    { pattern: "Y", replacements: ["\\Psi"] },
    { pattern: "W", replacements: ["\\Omega"] },
    { pattern: "(", replacements: ["\\left(", "\\("] },
    { pattern: ")", replacements: ["\\right)", "\\)"] },
    { pattern: "[", replacements: ["\\left[", "\\lbrack"] },
    { pattern: "]", replacements: ["\\right]", "\\rbrack"] },
    { pattern: "{", replacements: ["\\left\\{", "\\lbrace"] },
    { pattern: "}", replacements: ["\\right\\}", "\\rbrace"] },
    { pattern: "|", replacements: ["\\left|", "\\right|"] },
    { pattern: "->", replacements: ["\\rightarrow", "\\to"] },
    { pattern: "<-", replacements: ["\\leftarrow"] },
    { pattern: "<->", replacements: ["\\leftrightarrow"] },
    { pattern: "=>", replacements: ["\\implies"] },
    { pattern: "<=", replacements: ["\\leq"] },
    { pattern: ">=", replacements: ["\\geq"] },
    { pattern: "+", replacements: ["+"] },
    { pattern: "-", replacements: ["-"] },
    { pattern: "/", replacements: ["\\div"] },
    { pattern: "sum", replacements: ["\\sum"] },
    { pattern: "int", replacements: ["\\int"] },
    { pattern: "lim", replacements: ["\\lim"] },
    { pattern: "inf", replacements: ["\\infty"] },
    { pattern: "sqrt", replacements: ["\\sqrt"] },
    { pattern: "prod", replacements: ["\\prod"] },
    { pattern: "=", replacements: ["="] },
    { pattern: "!=", replacements: ["\\neq"] },
    { pattern: "~=", replacements: ["\\approx"] },
    { pattern: "~~", replacements: ["\\sim"] },
    { pattern: "<<", replacements: ["\\ll"] },
    { pattern: ">>", replacements: ["\\gg"] },
    { pattern: "in", replacements: ["\\in"] },
    { pattern: "ni", replacements: ["\\ni"] },
    { pattern: "subset", replacements: ["\\subset"] },
    { pattern: "supset", replacements: ["\\supset"] },
    { pattern: "empty", replacements: ["\\emptyset"] },
    { pattern: "...", replacements: ["\\ldots"] },
    { pattern: "\xB0", replacements: ["\\degree"] },
    { pattern: "\xA3", replacements: ["\\pounds"] },
    { pattern: "$", replacements: ["\\$"] },
    { pattern: "%", replacements: ["\\%"] },
    { pattern: "&", replacements: ["\\&"] },
    { pattern: "hat", replacements: ["\\hat{}"] },
    { pattern: "bar", replacements: ["\\bar{}"] },
    { pattern: "tilde", replacements: ["\\tilde{}"] },
    { pattern: "vec", replacements: ["\\vec{}"] },
    { pattern: "sin", replacements: ["\\sin"] },
    { pattern: "cos", replacements: ["\\cos"] },
    { pattern: "tan", replacements: ["\\tan"] },
    { pattern: "log", replacements: ["\\log"] },
    { pattern: "ln", replacements: ["\\ln"] },
    { pattern: "exp", replacements: ["\\exp"] },
    { pattern: "frac", replacements: ["T:\\frac{$1}{$2}"] },
    { pattern: "binom", replacements: ["\\binom{}{}"] },
    { type: "regex", pattern: "(.*)_over$", replacements: ["\\overline{$1}"] },
    { pattern: "underline", replacements: ["\\underline{}"] },
    { pattern: "overset", replacements: ["\\overset{}{}}"] },
    { pattern: "underset", replacements: ["\\underset{}{}}"] },
    { pattern: "forall", replacements: ["\\forall"] },
    { pattern: "exists", replacements: ["\\exists"] },
    { pattern: "nexists", replacements: ["\\nexists"] },
    { pattern: "aleph", replacements: ["\\aleph"] },
    { pattern: "hbar", replacements: ["\\hbar"] },
    { pattern: "ell", replacements: ["\\ell"] },
    { pattern: "Re", replacements: ["\\Re"] },
    { pattern: "Im", replacements: ["\\Im"] }
  ]
};
var ConfigManager = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async saveConfig(config) {
    await this.plugin.saveData(this.config);
  }
  async loadConfig() {
    this.config = Object.assign({}, DEFAULT_CONFIG, await this.plugin.loadData());
    this.matcher = new SuggestionMatcher(this.config.patterns);
  }
  async updateConfig(newConfig) {
    this.config = newConfig;
    await this.saveConfig(this.config);
    this.matcher = new SuggestionMatcher(this.config.patterns);
  }
  async resetConfig() {
    await this.updateConfig(DEFAULT_CONFIG);
  }
};

// suggestion_popup.ts
var import_obsidian = __toModule(require("obsidian"));
var TEMPLATE_PREFIX = "T:";
var SuggestionPopup = class {
  constructor() {
    this.element = this.createElement();
    this.isVisible = false;
    this.currentMatch = null;
    this.currentReplacements = null;
    this.fastReplace = false;
    this.selectedIndex = -1;
    this.inputHandler = null;
    this.view = null;
    this.handleDocumentClick = this.handleDocumentClick.bind(this);
    this.handleKeyDown = this.handleKeyDown.bind(this);
    document.addEventListener("click", this.handleDocumentClick);
    document.addEventListener("keydown", this.handleKeyDown);
  }
  createElement() {
    const popup = document.createElement("div");
    popup.style.cssText = `
            position: absolute;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            white-space: nowrap;
            z-index: 10000;
        `;
    document.body.appendChild(popup);
    return popup;
  }
  show(x, y, match, replacements, inputHandler, fastReplace = false, view) {
    this.currentMatch = match;
    this.currentReplacements = replacements;
    this.selectedIndex = -1;
    this.inputHandler = inputHandler;
    this.fastReplace = fastReplace && replacements.length === 1;
    this.element.style.left = `${x + 5}px`;
    this.element.style.bottom = `${window.innerHeight - y}px`;
    this.element.style.top = "auto";
    this.element.style.display = "block";
    this.isVisible = true;
    this.view = view;
    this.updateContent(view);
  }
  hide() {
    this.element.style.display = "none";
    this.element.innerHTML = "";
    this.isVisible = false;
    this.selectedIndex = -1;
    this.currentMatch = null;
    this.currentReplacements = null;
    this.view = null;
  }
  updateContent(view) {
    if (!this.currentMatch || !this.currentReplacements)
      return;
    this.element.innerHTML = "";
    const styleElement = document.createElement("style");
    const cssRule = `
          p {
            display: inline;
            margin: 0;
            padding: 0;
          }
        `;
    styleElement.textContent = cssRule;
    this.element.appendChild(styleElement);
    this.currentReplacements.forEach((option, index) => {
      const appliedReplacement = option.startsWith(TEMPLATE_PREFIX) ? option.slice(TEMPLATE_PREFIX.length) : option;
      const span = document.createElement("span");
      span.id = `suggestion-${index}`;
      span.style.cssText = `
                cursor: pointer;
                padding: 5px;
                display: inline;
                background: var(--background-primary);
                border: var(--background-modifier-border);
            `;
      span.addEventListener("mouseover", () => {
        if (index !== this.selectedIndex) {
          span.style.background = "#f0f0f0";
        }
      });
      span.addEventListener("mouseout", () => {
        if (index !== this.selectedIndex) {
          span.style.background = "white";
        }
      });
      span.addEventListener("click", () => {
        this.selectSuggestion(index);
      });
      const indicatorSpan = document.createElement("span");
      if (this.fastReplace && this.currentReplacements.length === 1) {
        indicatorSpan.style.cssText = `
                    color: #22c55e;
                    margin-right: 2px;
                    font-size: 0.6em;
                `;
        indicatorSpan.textContent = "\u26A1";
      } else {
        indicatorSpan.style.cssText = `
                    font-size: 0.7em;
                    color: #888;
                    margin-right: 2px;
                `;
        indicatorSpan.textContent = `${index + 1}.`;
      }
      const mathSpan = document.createElement("span");
      span.appendChild(indicatorSpan);
      span.appendChild(mathSpan);
      this.element.appendChild(span);
      import_obsidian.MarkdownRenderer.renderMarkdown(`$${appliedReplacement}$`, mathSpan, view.file.path, view);
    });
  }
  updateSelectedSuggestion() {
    const suggestions = this.element.querySelectorAll('span[id^="suggestion-"]');
    suggestions.forEach((span) => {
      span.style.background = "white";
    });
    if (this.selectedIndex >= 0) {
      const selectedSpan = this.element.querySelector(`#suggestion-${this.selectedIndex}`);
      if (selectedSpan) {
        selectedSpan.style.background = "#e0e0ff";
      }
    }
  }
  selectSuggestion(index) {
    if (!this.currentReplacements || !this.view)
      return;
    if (index >= 0 && index < this.currentReplacements.length) {
      const replacement = this.currentReplacements[index];
      if (replacement.startsWith(TEMPLATE_PREFIX)) {
        const form = new TemplateForm(replacement.slice(TEMPLATE_PREFIX.length), this.inputHandler);
        form.show();
      } else {
        const start = this.view.editor.offsetToPos(this.view.editor.posToOffset(this.view.editor.getCursor()) - this.currentMatch.length);
        this.view.editor.replaceRange(replacement, start, this.view.editor.getCursor());
      }
      this.hide();
    }
  }
  handleKeyDown(e) {
    if (!this.isVisible || !this.currentReplacements)
      return;
    if (this.fastReplace && !/^[a-zA-Z0-9]$/.test(e.key) && !["Escape", "Tab", "Backspace"].includes(e.key)) {
      this.selectSuggestion(0);
      return;
    }
    switch (e.key) {
      case "Escape":
        this.hide();
        e.preventDefault();
        break;
      case "Tab":
        e.preventDefault();
        if (this.selectedIndex < this.currentReplacements.length - 1) {
          this.selectedIndex++;
        } else {
          this.selectedIndex = 0;
        }
        this.updateSelectedSuggestion();
        break;
      case "Enter":
        if (this.selectedIndex >= 0) {
          e.preventDefault();
          this.selectSuggestion(this.selectedIndex);
        }
        break;
      default:
        if (e.key >= "1" && e.key <= "9") {
          const index = parseInt(e.key) - 1;
          if (index < this.currentReplacements.length) {
            this.selectSuggestion(index);
            e.preventDefault();
          }
        }
    }
  }
  handleDocumentClick(e) {
    if (this.isVisible && !this.element.contains(e.target)) {
      this.hide();
    }
  }
  destroy() {
    document.removeEventListener("click", this.handleDocumentClick);
    document.removeEventListener("keydown", this.handleKeyDown);
    if (this.element && this.element.parentNode) {
      this.element.parentNode.removeChild(this.element);
    }
  }
};

// main.ts
var WordPopupPlugin = class extends import_obsidian2.Plugin {
  async onload() {
    this.configManager = new ConfigManager(this);
    await this.configManager.loadConfig();
    this.suggestionPopup = new SuggestionPopup();
    console.log(`test2 ${this.suggestionPopup}`);
    this.popupEl = document.createElement("div");
    this.popupEl.addClass("word-popup");
    this.popupEl.style.position = "absolute";
    this.popupEl.style.zIndex = "1000";
    this.popupEl.style.backgroundColor = "var(--background-primary)";
    this.popupEl.style.padding = "8px";
    this.popupEl.style.borderRadius = "4px";
    this.popupEl.style.border = "1px solid var(--background-modifier-border)";
    this.popupEl.style.display = "none";
    this.popupEl.style.maxWidth = "300px";
    this.contentEl = document.createElement("div");
    this.contentEl.addClass("word-popup-content");
    this.popupEl.appendChild(this.contentEl);
    document.body.appendChild(this.popupEl);
    this.registerEvent(this.app.workspace.on("editor-change", (editor, view) => {
      this.handleEditorChange(editor, view);
    }));
    this.registerDomEvent(document, "click", (evt) => {
      if (!this.popupEl.contains(evt.target)) {
        this.hidePopup();
      }
    });
  }
  onunload() {
    if (this.popupEl) {
      this.popupEl.remove();
    }
  }
  async handleEditorChange(editor, view) {
    const cursor = editor.getCursor();
    const line = editor.getLine(cursor.line);
    const wordUnderCursor = this.getWordUnderCursor(line, cursor.ch);
    const suggestions = this.configManager.matcher.getSuggestions(wordUnderCursor);
    if (suggestions.suggestions.length > 0) {
      const coords = editor.coordsAtPos(cursor);
      if (!coords)
        return;
      this.suggestionPopup.show(coords.left, coords.top, wordUnderCursor, suggestions.suggestions, null, suggestions.fastReplace, view);
    } else {
      this.suggestionPopup.hide();
    }
  }
  hasUnclosedMathSection(str) {
    let inMathMode = false;
    let isDoubleDollar = false;
    for (let i = 0; i < str.length; i++) {
      if (str[i] === "\\" && i + 1 < str.length && str[i + 1] === "$") {
        i++;
        continue;
      }
      if (str[i] === "$" && i + 1 < str.length && str[i + 1] === "$") {
        if (!inMathMode) {
          inMathMode = true;
          isDoubleDollar = true;
          i++;
        } else if (isDoubleDollar) {
          inMathMode = false;
          isDoubleDollar = false;
          i++;
        }
        continue;
      }
      if (str[i] === "$") {
        if (!inMathMode) {
          inMathMode = true;
          isDoubleDollar = false;
        } else if (!isDoubleDollar) {
          inMathMode = false;
        }
      }
    }
    return inMathMode;
  }
  getWordUnderCursor(lineStr, cursorPos) {
    if (!this.hasUnclosedMathSection(lineStr.slice(0, cursorPos))) {
      return "";
    }
    let i = lineStr.length - 1;
    while (i >= 0) {
      if (lineStr[i] == "$" || lineStr[i] == " ") {
        i += 1;
        break;
      } else {
        i -= 1;
      }
    }
    if (i <= 0) {
      return lineStr;
    }
    return lineStr.substr(i);
  }
  async showPopup(editor, position, content, view) {
    const coords = editor.coordsAtPos(position);
    if (!coords)
      return;
    this.contentEl.empty();
    import_obsidian2.MarkdownRenderer.renderMarkdown(content, this.contentEl, view.file.path, view);
    this.popupEl.style.display = "block";
    this.popupEl.style.left = `${coords.left}px`;
    this.popupEl.style.top = `${coords.top + 20}px`;
    const rect = this.popupEl.getBoundingClientRect();
    const viewport = {
      right: window.innerWidth,
      bottom: window.innerHeight
    };
    if (rect.right > viewport.right) {
      this.popupEl.style.left = `${viewport.right - rect.width - 10}px`;
    }
    if (rect.bottom > viewport.bottom) {
      this.popupEl.style.top = `${coords.top - rect.height - 10}px`;
    }
  }
  hidePopup() {
    this.popupEl.style.display = "none";
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJwYXR0ZXJuX21hdGNoZXIudHMiLCAiY29uZmlnLnRzIiwgInN1Z2dlc3Rpb25fcG9wdXAudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IFxuICAgIEFwcCwgXG4gICAgRWRpdG9yLFxuICAgIE1hcmtkb3duVmlldywgXG4gICAgUGx1Z2luLFxuICAgIFBvaW50LFxuICAgIEVkaXRvclBvc2l0aW9uLFxuICAgIE1hcmtkb3duUmVuZGVyZXJcbn0gZnJvbSAnb2JzaWRpYW4nO1xuXG5pbXBvcnQgeyBDb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4vY29uZmlnXCJcbmltcG9ydCB7IFN1Z2dlc3Rpb25Qb3B1cCB9IGZyb20gXCIuL3N1Z2dlc3Rpb25fcG9wdXBcIlxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmRQb3B1cFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgY29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlcjtcbiAgICBzdWdnZXN0aW9uUG9wdXA6IFN1Z2dlc3Rpb25Qb3B1cDtcbiAgICBwb3B1cEVsOiBIVE1MRWxlbWVudDtcbiAgICBjb250ZW50RWw6IEhUTUxFbGVtZW50O1xuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBuZXcgQ29uZmlnTWFuYWdlcih0aGlzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25maWdNYW5hZ2VyLmxvYWRDb25maWcoKTtcbiAgICAgICAgdGhpcy5zdWdnZXN0aW9uUG9wdXAgPSBuZXcgU3VnZ2VzdGlvblBvcHVwKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGB0ZXN0MiAke3RoaXMuc3VnZ2VzdGlvblBvcHVwfWApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHBvcHVwIGNvbnRhaW5lclxuICAgICAgICB0aGlzLnBvcHVwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5wb3B1cEVsLmFkZENsYXNzKCd3b3JkLXBvcHVwJyk7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KSc7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5wYWRkaW5nID0gJzhweCc7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNHB4JztcbiAgICAgICAgdGhpcy5wb3B1cEVsLnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJztcbiAgICAgICAgdGhpcy5wb3B1cEVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5tYXhXaWR0aCA9ICczMDBweCc7IC8vIFByZXZlbnQgdmVyeSB3aWRlIHBvcHVwc1xuXG4gICAgICAgIC8vIENyZWF0ZSBjb250ZW50IGNvbnRhaW5lciBmb3IgbWFya2Rvd24gcmVuZGVyaW5nXG4gICAgICAgIHRoaXMuY29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY29udGVudEVsLmFkZENsYXNzKCd3b3JkLXBvcHVwLWNvbnRlbnQnKTtcbiAgICAgICAgdGhpcy5wb3B1cEVsLmFwcGVuZENoaWxkKHRoaXMuY29udGVudEVsKTtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wb3B1cEVsKTtcblxuICAgICAgICAvLyBSZWdpc3RlciBlZGl0b3IgY2hhbmdlIGV2ZW50XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLWNoYW5nZScsIChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFZGl0b3JDaGFuZ2UoZWRpdG9yLCB2aWV3KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gSGlkZSBwb3B1cCB3aGVuIGNsaWNraW5nIG91dHNpZGVcbiAgICAgICAgdGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucG9wdXBFbC5jb250YWlucyhldnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcHVwRWwpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXBFbC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZUVkaXRvckNoYW5nZShlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSB7XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICAgICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcbiAgICAgICAgY29uc3Qgd29yZFVuZGVyQ3Vyc29yID0gdGhpcy5nZXRXb3JkVW5kZXJDdXJzb3IobGluZSwgY3Vyc29yLmNoKTtcblxuICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IHRoaXMuY29uZmlnTWFuYWdlci5tYXRjaGVyLmdldFN1Z2dlc3Rpb25zKHdvcmRVbmRlckN1cnNvcik7XG5cbiAgICAgICAgaWYgKHN1Z2dlc3Rpb25zLnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IGVkaXRvci5jb29yZHNBdFBvcyhjdXJzb3IpO1xuICAgICAgICAgICAgaWYgKCFjb29yZHMpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuc3VnZ2VzdGlvblBvcHVwLnNob3coXG4gICAgICAgICAgICAgICAgY29vcmRzLmxlZnQsXG4gICAgICAgICAgICAgICAgY29vcmRzLnRvcCxcbiAgICAgICAgICAgICAgICB3b3JkVW5kZXJDdXJzb3IsXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMuc3VnZ2VzdGlvbnMsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucy5mYXN0UmVwbGFjZSxcbiAgICAgICAgICAgICAgICB2aWV3LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy9jb25zdCBjb250ZW50ID0gc3VnZ2VzdGlvbnMuc3VnZ2VzdGlvbnMubWFwKChzKSA9PiBgJCR7c30kYCkuam9pbignICcpO1xuICAgICAgICAgICAgLy9hd2FpdCB0aGlzLnNob3dQb3B1cChlZGl0b3IsIGN1cnNvciwgY29udGVudCwgdmlldyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1Z2dlc3Rpb25Qb3B1cC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNVbmNsb3NlZE1hdGhTZWN0aW9uKHN0cik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgaW5NYXRoTW9kZSA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNEb3VibGVEb2xsYXIgPSBmYWxzZTtcblxuICAgICAgICAvLyBQcm9jZXNzIHN0cmluZyBjaGFyYWN0ZXIgYnkgY2hhcmFjdGVyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgZXNjYXBlZCBkb2xsYXIgc2lnbnNcbiAgICAgICAgICAgIGlmIChzdHJbaV0gPT09ICdcXFxcJyAmJiBpICsgMSA8IHN0ci5sZW5ndGggJiYgc3RyW2kgKyAxXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgaSsrOyAvLyBTa2lwIHRoZSBlc2NhcGVkIGRvbGxhciBzaWduXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBkb3VibGUgZG9sbGFyIHNpZ25zXG4gICAgICAgICAgICBpZiAoc3RyW2ldID09PSAnJCcgJiYgaSArIDEgPCBzdHIubGVuZ3RoICYmIHN0cltpICsgMV0gPT09ICckJykge1xuICAgICAgICAgICAgICAgIGlmICghaW5NYXRoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpbk1hdGhNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNEb3VibGVEb2xsYXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpKys7IC8vIFNraXAgc2Vjb25kIGRvbGxhclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNEb3VibGVEb2xsYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5NYXRoTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc0RvdWJsZURvbGxhciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpKys7IC8vIFNraXAgc2Vjb25kIGRvbGxhclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGFuZGxlIHNpbmdsZSBkb2xsYXIgc2lnbnNcbiAgICAgICAgICAgIGlmIChzdHJbaV0gPT09ICckJykge1xuICAgICAgICAgICAgICAgIGlmICghaW5NYXRoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpbk1hdGhNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNEb3VibGVEb2xsYXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0RvdWJsZURvbGxhcikge1xuICAgICAgICAgICAgICAgICAgICBpbk1hdGhNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbk1hdGhNb2RlO1xuICAgIH1cblxuXG4gICAgZ2V0V29yZFVuZGVyQ3Vyc29yKGxpbmVTdHI6IHN0cmluZywgY3Vyc29yUG9zOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMuaGFzVW5jbG9zZWRNYXRoU2VjdGlvbihsaW5lU3RyLnNsaWNlKDAsIGN1cnNvclBvcykpKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkgPSBsaW5lU3RyLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgIGlmIChsaW5lU3RyW2ldID09ICckJyB8fCBsaW5lU3RyW2ldID09ICcgJyApe1xuICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpPD0wKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZVN0cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZVN0ci5zdWJzdHIoaSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2hvd1BvcHVwKGVkaXRvcjogRWRpdG9yLCBwb3NpdGlvbjogRWRpdG9yUG9zaXRpb24sIGNvbnRlbnQ6IHN0cmluZywgdmlldzogTWFya2Rvd25WaWV3KSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGVkaXRvci5jb29yZHNBdFBvcyhwb3NpdGlvbik7XG4gICAgICAgIGlmICghY29vcmRzKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgY29udGVudFxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVuZGVyIHRoZSBtYXJrZG93biBjb250ZW50IChpbmNsdWRpbmcgTGFUZVgpXG4gICAgICAgIE1hcmtkb3duUmVuZGVyZXIucmVuZGVyTWFya2Rvd24oXG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgdGhpcy5jb250ZW50RWwsXG4gICAgICAgICAgICB2aWV3LmZpbGUucGF0aCxcbiAgICAgICAgICAgIHZpZXdcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnBvcHVwRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5sZWZ0ID0gYCR7Y29vcmRzLmxlZnR9cHhgO1xuICAgICAgICB0aGlzLnBvcHVwRWwuc3R5bGUudG9wID0gYCR7Y29vcmRzLnRvcCArIDIwfXB4YDsgLy8gMjBweCBiZWxvdyBjdXJzb3JcblxuICAgICAgICAvLyBFbnN1cmUgcG9wdXAgc3RheXMgd2l0aGluIHZpZXdwb3J0XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnBvcHVwRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0ge1xuICAgICAgICAgICAgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgYm90dG9tOiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVjdC5yaWdodCA+IHZpZXdwb3J0LnJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwRWwuc3R5bGUubGVmdCA9IGAke3ZpZXdwb3J0LnJpZ2h0IC0gcmVjdC53aWR0aCAtIDEwfXB4YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjdC5ib3R0b20gPiB2aWV3cG9ydC5ib3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS50b3AgPSBgJHtjb29yZHMudG9wIC0gcmVjdC5oZWlnaHQgLSAxMH1weGA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlUG9wdXAoKSB7XG4gICAgICAgIHRoaXMucG9wdXBFbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBQYXR0ZXJuIH0gZnJvbSBcIi4vY29uZmlnXCJcblxuLy8gSW50ZXJmYWNlIGZvciB0cmllIHRlcm0gc3RydWN0dXJlXG5pbnRlcmZhY2UgVHJpZVRlcm0ge1xuICAgIHRlcm06IHN0cmluZztcbiAgICB2YWx1ZTogUGF0dGVybjtcbn1cblxuLy8gSW50ZXJmYWNlIGZvciBsb29rdXAgcmVzdWx0c1xuaW50ZXJmYWNlIExvb2t1cFJlc3VsdCB7XG4gICAgdmFsdWU6IFBhdHRlcm47XG4gICAgbWF0Y2g6IHN0cmluZ1tdO1xufVxuXG4vLyBJbnRlcmZhY2UgZm9yIHN1Z2dlc3Rpb24gcmVzdWx0c1xuaW50ZXJmYWNlIFN1Z2dlc3Rpb25SZXN1bHQge1xuICAgIHN1Z2dlc3Rpb25zOiBzdHJpbmdbXTtcbiAgICBmYXN0UmVwbGFjZTogYm9vbGVhbjtcbn1cblxuY2xhc3MgVHJpZU5vZGUge1xuICAgIGNoaWxkcmVuOiB7IFtrZXk6IHN0cmluZ106IFRyaWVOb2RlIH07XG4gICAgdmFsdWU6IFBhdHRlcm4gfCBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBUcmllIHtcbiAgICBwcml2YXRlIHJvb3Q6IFRyaWVOb2RlO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhbiBpbW11dGFibGUgVHJpZS5cbiAgICAgKiBAcGFyYW0gdGVybXMgLSBBcnJheSBvZiB0ZXJtcyB3aXRoIGFzc29jaWF0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlcm1zOiBUcmllVGVybVtdKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBUcmllTm9kZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHsgdGVybSwgdmFsdWUgfSBvZiB0ZXJtcykge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnQodGVybSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIHRlcm0gd2l0aCBpdHMgYXNzb2NpYXRlZCB2YWx1ZSBpbnRvIHRoZSB0cmllLlxuICAgICAqIEBwYXJhbSB0ZXJtIC0gVGhlIHRlcm0gdG8gaW5zZXJ0IChtYXkgY29udGFpbiB3aWxkY2FyZHMgJyonKS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSB0ZXJtLlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5zZXJ0KHRlcm06IHN0cmluZywgdmFsdWU6IFBhdHRlcm4pOiB2b2lkIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIGZvciAoY29uc3QgY2hhciBvZiB0ZXJtKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuY2hpbGRyZW5bY2hhcl0pIHtcbiAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuW2NoYXJdID0gbmV3IFRyaWVOb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltjaGFyXTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYSBzdHJpbmcgaW4gdGhlIHRyaWUsIG1hdGNoaW5nIHRlcm1zIHRoYXQgbWF5IGNvbnRhaW4gd2lsZGNhcmRzICcqJy5cbiAgICAgKiBDb2xsZWN0cyBhbGwgbWF0Y2hpbmcgdmFsdWVzIGFuZCB0aGUgY2hhcmFjdGVycyBtYXRjaGVkIGJ5IHdpbGRjYXJkcy5cbiAgICAgKiBAcGFyYW0gcXVlcnkgLSBUaGUgc3RyaW5nIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgbWF0Y2hpbmcgcmVzdWx0cy5cbiAgICAgKi9cbiAgICBsb29rdXAocXVlcnk6IHN0cmluZyk6IExvb2t1cFJlc3VsdFtdIHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogTG9va3VwUmVzdWx0W10gPSBbXTtcbiAgICAgICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8VHJpZU5vZGU+KCk7XG5cbiAgICAgICAgdGhpcy5fbG9va3VwSGVscGVyKHRoaXMucm9vdCwgcXVlcnksIDAsIHJlc3VsdHMsIFtdLCB2aXNpdGVkKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9sb29rdXBIZWxwZXIoXG4gICAgICAgIG5vZGU6IFRyaWVOb2RlLFxuICAgICAgICBxdWVyeTogc3RyaW5nLFxuICAgICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgICByZXN1bHRzOiBMb29rdXBSZXN1bHRbXSxcbiAgICAgICAgd2lsZGNhcmRNYXRjaGVzOiBzdHJpbmdbXSxcbiAgICAgICAgdmlzaXRlZDogU2V0PFRyaWVOb2RlPlxuICAgICk6IHZvaWQge1xuICAgICAgICBpZiAoaW5kZXggPT09IHF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG5vZGUudmFsdWUgIT09IG51bGwgJiYgIXZpc2l0ZWQuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5vZGUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoOiB3aWxkY2FyZE1hdGNoZXMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2aXNpdGVkLmFkZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYXIgPSBxdWVyeVtpbmRleF07XG5cbiAgICAgICAgLy8gRmlyc3QsIHRyeSBleGFjdCBjaGFyYWN0ZXIgbWF0Y2hcbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW5bY2hhcl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvb2t1cEhlbHBlcihcbiAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuW2NoYXJdLFxuICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgIGluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICByZXN1bHRzLFxuICAgICAgICAgICAgICAgIHdpbGRjYXJkTWF0Y2hlcyxcbiAgICAgICAgICAgICAgICB2aXNpdGVkXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlbiwgdHJ5IHdpbGRjYXJkIG1hdGNoXG4gICAgICAgIGlmIChjaGFyLm1hdGNoKC9eWzAtOWEtel0rJC8pICYmIG5vZGUuY2hpbGRyZW5bJyonXSkge1xuICAgICAgICAgICAgY29uc3QgbmV3V2lsZGNhcmRNYXRjaGVzID0gd2lsZGNhcmRNYXRjaGVzLmNvbmNhdChjaGFyKTtcbiAgICAgICAgICAgIHRoaXMuX2xvb2t1cEhlbHBlcihcbiAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuWycqJ10sXG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgaW5kZXggKyAxLFxuICAgICAgICAgICAgICAgIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgbmV3V2lsZGNhcmRNYXRjaGVzLFxuICAgICAgICAgICAgICAgIHZpc2l0ZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCB2YWx1ZXMgb2YgdGVybXMgdGhhdCBzdGFydCB3aXRoIHRoZSBnaXZlbiBxdWVyeSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHF1ZXJ5IC0gVGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIG1hdGNoaW5nIHRlcm1zLlxuICAgICAqL1xuICAgIHR5cGVBaGVhZChxdWVyeTogc3RyaW5nKTogUGF0dGVybltdIHtcbiAgICAgICAgbGV0IG5vZGVzID0gW3sgbm9kZTogdGhpcy5yb290LCBpbmRleDogMCB9XTtcbiAgICAgICAgY29uc3QgcmVzdWx0czogUGF0dGVybltdID0gW107XG4gICAgICAgIGNvbnN0IGNvbGxlY3RlZE5vZGVzID0gbmV3IFNldDxUcmllTm9kZT4oKTtcblxuICAgICAgICB3aGlsZSAobm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IG5leHROb2RlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IG5vZGUsIGluZGV4IH0gb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IHF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0VmFsdWVzKG5vZGUsIHJlc3VsdHMsIGNvbGxlY3RlZE5vZGVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gcXVlcnlbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbltjaGFyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUuY2hpbGRyZW5bY2hhcl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyLm1hdGNoKC9eWzAtOWEtel0rJC8pICYmIG5vZGUuY2hpbGRyZW5bJyonXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUuY2hpbGRyZW5bJyonXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlcyA9IG5leHROb2RlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NvbGxlY3RWYWx1ZXMoXG4gICAgICAgIHN0YXJ0Tm9kZTogVHJpZU5vZGUsXG4gICAgICAgIHJlc3VsdHM6IFBhdHRlcm5bXSxcbiAgICAgICAgY29sbGVjdGVkTm9kZXM6IFNldDxUcmllTm9kZT5cbiAgICApOiB2b2lkIHtcbiAgICAgICAgbGV0IHF1ZXVlID0gW3N0YXJ0Tm9kZV07XG4gICAgICAgIGNvbnN0IHZpc2l0ZWROb2RlcyA9IG5ldyBTZXQ8VHJpZU5vZGU+KCk7XG5cbiAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBxdWV1ZS5zaGlmdCgpITtcblxuICAgICAgICAgICAgaWYgKHZpc2l0ZWROb2Rlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZpc2l0ZWROb2Rlcy5hZGQobm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlLnZhbHVlICE9PSBudWxsICYmICFjb2xsZWN0ZWROb2Rlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobm9kZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29sbGVjdGVkTm9kZXMuYWRkKG5vZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiBPYmplY3QudmFsdWVzKG5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjaGlsZE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBSZWdleE1hdGNoZXIge1xuICAgIHByaXZhdGUgcGF0dGVybnM6IHsgcmVnZXg6IFJlZ0V4cDsgcmVwbGFjZW1lbnRzOiBzdHJpbmdbXSB9W107XG5cbiAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuczogUGF0dGVybltdKSB7XG4gICAgICAgIHRoaXMucGF0dGVybnMgPSBwYXR0ZXJucy5tYXAoKHApID0+ICh7XG4gICAgICAgICAgICByZWdleDogbmV3IFJlZ0V4cChwLnBhdHRlcm4pLFxuICAgICAgICAgICAgcmVwbGFjZW1lbnRzOiBwLnJlcGxhY2VtZW50cyxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGFkZFBhdHRlcm4ocGF0dGVybjogUGF0dGVybik6IHZvaWQge1xuICAgICAgICB0aGlzLnBhdHRlcm5zLnB1c2goe1xuICAgICAgICAgICAgcmVnZXg6IG5ldyBSZWdFeHAocGF0dGVybi5wYXR0ZXJuKSxcbiAgICAgICAgICAgIHJlcGxhY2VtZW50czogcGF0dGVybi5yZXBsYWNlbWVudHMsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFN1Z2dlc3Rpb25zKGlucHV0OiBzdHJpbmcpOiBTdWdnZXN0aW9uUmVzdWx0IHtcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGxldCBmYXN0UmVwbGFjZSA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiB0aGlzLnBhdHRlcm5zKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gaW5wdXQubWF0Y2gocGF0dGVybi5yZWdleCk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByZXBsYWNlbWVudCBvZiBwYXR0ZXJuLnJlcGxhY2VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoYCQke2l9YCwgbWF0Y2hlc1tpXSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHN1Z2dlc3Rpb25zLCBmYXN0UmVwbGFjZSB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1Z2dlc3Rpb25NYXRjaGVyIHtcbiAgICBwcml2YXRlIHRyaWU6IFRyaWU7XG4gICAgcHJpdmF0ZSByZWdleGVzOiBSZWdleE1hdGNoZXI7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgU3VnZ2VzdGlvbk1hdGNoZXIuXG4gICAgICogQHBhcmFtIHBhdHRlcm5zIC0gQXJyYXkgb2YgcGF0dGVybiBvYmplY3RzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhdHRlcm5zOiBQYXR0ZXJuW10pIHtcbiAgICAgICAgY29uc3QgdHJpZVRlcm1zID0gcGF0dGVybnMuZmxhdE1hcCgoY29uZikgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb25mLnR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3sgdGVybTogY29uZi5wYXR0ZXJuLCB2YWx1ZTogY29uZiB9XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50cmllID0gbmV3IFRyaWUodHJpZVRlcm1zKTtcblxuICAgICAgICBjb25zdCByZWdleFRlcm1zID0gcGF0dGVybnMuZmxhdE1hcCgoY29uZikgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmYudHlwZSAmJiBjb25mLnR5cGUgPT09ICdyZWdleCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2NvbmZdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWdleGVzID0gbmV3IFJlZ2V4TWF0Y2hlcihyZWdleFRlcm1zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcGxhY2VQbGFjZWhvbGRlcnModmFsdWU6IHN0cmluZywgbWF0Y2hlczogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFwkKFsxLTldXFxkKikvZywgKG1hdGNoLCBpbmRleFN0cikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChpbmRleFN0ciwgMTApIC0gMTtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IG1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRNYXRjaGluZ1BhdHRlcm5zKHNlYXJjaFN0cmluZzogc3RyaW5nKTogTG9va3VwUmVzdWx0W10ge1xuICAgICAgICByZXR1cm4gdGhpcy50cmllLmxvb2t1cChzZWFyY2hTdHJpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgc2VhcmNoIHN0cmluZyBhcyBpbnB1dCBhbmQgcmV0dXJucyBhIGNvbWJpbmVkIGFycmF5IG9mIGFsbCByZXBsYWNlbWVudHNcbiAgICAgKiBmb3IgYWxsIG1hdGNoZXMsIHdpdGggdGhlIHBsYWNlaG9sZGVycyByZXBsYWNlZC5cbiAgICAgKiBAcGFyYW0gc2VhcmNoU3RyaW5nIC0gVGhlIHNlYXJjaCBzdHJpbmcuXG4gICAgICogQHJldHVybnMgT2JqZWN0IGNvbnRhaW5pbmcgc3VnZ2VzdGlvbnMgYXJyYXkgYW5kIGZhc3RSZXBsYWNlIGZsYWcuXG4gICAgICovXG4gICAgZ2V0U3VnZ2VzdGlvbnMoc2VhcmNoU3RyaW5nOiBzdHJpbmcpOiBTdWdnZXN0aW9uUmVzdWx0IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMudHJpZS5sb29rdXAoc2VhcmNoU3RyaW5nKTtcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGxldCBmYXN0UmVwbGFjZSA9IGZhbHNlO1xuXG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaCgoeyB2YWx1ZTogY29uZiwgbWF0Y2g6IHdpbGRjYXJkTWF0Y2hlcyB9KSA9PiB7XG4gICAgICAgICAgICBjb25mLnJlcGxhY2VtZW50cy5mb3JFYWNoKChyZXBsYWNlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1Z2dlc3Rpb24gPSB0aGlzLnJlcGxhY2VQbGFjZWhvbGRlcnMoXG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50LFxuICAgICAgICAgICAgICAgICAgICB3aWxkY2FyZE1hdGNoZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goc3VnZ2VzdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZhc3RSZXBsYWNlID0gZmFzdFJlcGxhY2UgfHwgISFjb25mLmZhc3RSZXBsYWNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBycyA9IHRoaXMucmVnZXhlcy5nZXRTdWdnZXN0aW9ucyhzZWFyY2hTdHJpbmcpO1xuICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKC4uLnJzLnN1Z2dlc3Rpb25zKTtcbiAgICAgICAgZmFzdFJlcGxhY2UgPSAoZmFzdFJlcGxhY2UgfHwgcnMuZmFzdFJlcGxhY2UpICYmIHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMTtcblxuICAgICAgICByZXR1cm4geyBzdWdnZXN0aW9ucywgZmFzdFJlcGxhY2UgfTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgICBQbHVnaW4sXG59IGZyb20gJ29ic2lkaWFuJztcblxuaW1wb3J0IHsgU3VnZ2VzdGlvbk1hdGNoZXIgfSBmcm9tIFwiLi9wYXR0ZXJuX21hdGNoZXJcIlxuXG5cblxuZXhwb3J0IGludGVyZmFjZSBQYXR0ZXJuIHtcbiAgICB0eXBlPzogJ3JlZ2V4JztcbiAgICBwYXR0ZXJuOiBzdHJpbmc7XG4gICAgcmVwbGFjZW1lbnRzOiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIE1hdGhDb25maWcge1xuICAgIHJlbmRlck1hdGg6IGJvb2xlYW47XG4gICAgcGF0dGVybnM6IFBhdHRlcm5bXTtcbn1cblxuY29uc3QgREVGQVVMVF9DT05GSUc6IE1hdGhDb25maWcgPSB7XG4gICAgcmVuZGVyTWF0aDogZmFsc2UsXG4gICAgcGF0dGVybnMgOiBbXG4gICAgICAgIC8vIExvZ2ljYWwgb3BlcmF0b3JzXG4gICAgICAgIHsgcGF0dGVybjogJ29yJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxsb3InXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdhbmQnLCByZXBsYWNlbWVudHM6IFsnXFxcXGxhbmQnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdub3QnLCByZXBsYWNlbWVudHM6IFsnXFxcXGxub3QnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICc9PicsIHJlcGxhY2VtZW50czogWydcXFxcaW1wbGllcyddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJzw9PicsIHJlcGxhY2VtZW50czogWydcXFxcaWZmJ10gfSxcblxuICAgICAgICAvLyBHcmVlayBsZXR0ZXJzXG4gICAgICAgIHsgcGF0dGVybjogJ2EnLCByZXBsYWNlbWVudHM6IFsnXFxcXGFscGhhJywgJ1xcXFxhbGVwaCddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ2InLCByZXBsYWNlbWVudHM6IFsnXFxcXGJldGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdnJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxnYW1tYSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ2QnLCByZXBsYWNlbWVudHM6IFsnXFxcXGRlbHRhJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnZScsIHJlcGxhY2VtZW50czogWydcXFxcZXBzaWxvbicsICdcXFxcdmFyZXBzaWxvbiddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ3onLCByZXBsYWNlbWVudHM6IFsnXFxcXHpldGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdoJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxldGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd0JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFx0aGV0YScsICdcXFxcdmFydGhldGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdpJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxpb3RhJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnaycsIHJlcGxhY2VtZW50czogWydcXFxca2FwcGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdsJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxsYW1iZGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdtJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxtdSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ24nLCByZXBsYWNlbWVudHM6IFsnXFxcXG51J10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAneCcsIHJlcGxhY2VtZW50czogWydcXFxceGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdvJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxvbWljcm9uJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAncCcsIHJlcGxhY2VtZW50czogWydcXFxccGknLCAnXFxcXHZhcnBpJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAncicsIHJlcGxhY2VtZW50czogWydcXFxccmhvJywgJ1xcXFx2YXJyaG8nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdzJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxzaWdtYScsICdcXFxcdmFyc2lnbWEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd1JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFx1cHNpbG9uJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnZicsIHJlcGxhY2VtZW50czogWydcXFxccGhpJywgJ1xcXFx2YXJwaGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdjJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxjaGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd5JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxwc2knXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd3JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxvbWVnYSddIH0sXG5cbiAgICAgICAgLy8gVXBwZXJjYXNlIEdyZWVrIGxldHRlcnNcbiAgICAgICAgeyBwYXR0ZXJuOiAnQScsIHJlcGxhY2VtZW50czogWydcXFxcQWxwaGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdCJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxCZXRhJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnRycsIHJlcGxhY2VtZW50czogWydcXFxcR2FtbWEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdEJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxEZWx0YSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ0UnLCByZXBsYWNlbWVudHM6IFsnXFxcXEVwc2lsb24nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdaJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxaZXRhJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnSCcsIHJlcGxhY2VtZW50czogWydcXFxcRXRhJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnVCcsIHJlcGxhY2VtZW50czogWydcXFxcVGhldGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdJJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxJb3RhJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnSycsIHJlcGxhY2VtZW50czogWydcXFxcS2FwcGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdMJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxMYW1iZGEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdNJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxNdSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ04nLCByZXBsYWNlbWVudHM6IFsnXFxcXE51J10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnWCcsIHJlcGxhY2VtZW50czogWydcXFxcWGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdPJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxPbWljcm9uJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnUCcsIHJlcGxhY2VtZW50czogWydcXFxcUGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdSJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxSaG8nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdTJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxTaWdtYSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ1UnLCByZXBsYWNlbWVudHM6IFsnXFxcXFVwc2lsb24nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdGJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxQaGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdDJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxDaGknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdZJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxQc2knXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdXJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxPbWVnYSddIH0sXG5cbiAgICAgICAgLy8gUGFyZW50aGVzZXMgYW5kIGJyYWNrZXRzXG4gICAgICAgIHsgcGF0dGVybjogJygnLCByZXBsYWNlbWVudHM6IFsnXFxcXGxlZnQoJywgJ1xcXFwoJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnKScsIHJlcGxhY2VtZW50czogWydcXFxccmlnaHQpJywgJ1xcXFwpJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnWycsIHJlcGxhY2VtZW50czogWydcXFxcbGVmdFsnLCAnXFxcXGxicmFjayddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ10nLCByZXBsYWNlbWVudHM6IFsnXFxcXHJpZ2h0XScsICdcXFxccmJyYWNrJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAneycsIHJlcGxhY2VtZW50czogWydcXFxcbGVmdFxcXFx7JywgJ1xcXFxsYnJhY2UnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd9JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxyaWdodFxcXFx9JywgJ1xcXFxyYnJhY2UnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd8JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxsZWZ0fCcsICdcXFxccmlnaHR8J10gfSxcblxuICAgICAgICAvLyBBcnJvd3NcbiAgICAgICAgeyBwYXR0ZXJuOiAnLT4nLCByZXBsYWNlbWVudHM6IFsnXFxcXHJpZ2h0YXJyb3cnLCAnXFxcXHRvJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnPC0nLCByZXBsYWNlbWVudHM6IFsnXFxcXGxlZnRhcnJvdyddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJzwtPicsIHJlcGxhY2VtZW50czogWydcXFxcbGVmdHJpZ2h0YXJyb3cnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICc9PicsIHJlcGxhY2VtZW50czogWydcXFxcaW1wbGllcyddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJzw9JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxsZXEnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICc+PScsIHJlcGxhY2VtZW50czogWydcXFxcZ2VxJ10gfSxcblxuICAgICAgICAvLyBNYXRoZW1hdGljYWwgb3BlcmF0b3JzXG4gICAgICAgIHsgcGF0dGVybjogJysnLCByZXBsYWNlbWVudHM6IFsnKyddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJy0nLCByZXBsYWNlbWVudHM6IFsnLSddIH0sXG4gICAgICAgIC8veyBwYXR0ZXJuOiAnKicsIHJlcGxhY2VtZW50czogWydcXFxcdGltZXMnLCAnXFxcXGFzdCddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJy8nLCByZXBsYWNlbWVudHM6IFsnXFxcXGRpdiddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ3N1bScsIHJlcGxhY2VtZW50czogWydcXFxcc3VtJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnaW50JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxpbnQnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdsaW0nLCByZXBsYWNlbWVudHM6IFsnXFxcXGxpbSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ2luZicsIHJlcGxhY2VtZW50czogWydcXFxcaW5mdHknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdzcXJ0JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxzcXJ0J10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAncHJvZCcsIHJlcGxhY2VtZW50czogWydcXFxccHJvZCddIH0sXG5cbiAgICAgICAgLy8gUmVsYXRpb25hbCBvcGVyYXRvcnNcbiAgICAgICAgeyBwYXR0ZXJuOiAnPScsIHJlcGxhY2VtZW50czogWyc9J10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnIT0nLCByZXBsYWNlbWVudHM6IFsnXFxcXG5lcSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ349JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxhcHByb3gnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd+ficsIHJlcGxhY2VtZW50czogWydcXFxcc2ltJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnPDwnLCByZXBsYWNlbWVudHM6IFsnXFxcXGxsJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnPj4nLCByZXBsYWNlbWVudHM6IFsnXFxcXGdnJ10gfSxcblxuICAgICAgICAvLyBTZXQgc3ltYm9sc1xuICAgICAgICB7IHBhdHRlcm46ICdpbicsIHJlcGxhY2VtZW50czogWydcXFxcaW4nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICduaScsIHJlcGxhY2VtZW50czogWydcXFxcbmknXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdzdWJzZXQnLCByZXBsYWNlbWVudHM6IFsnXFxcXHN1YnNldCddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ3N1cHNldCcsIHJlcGxhY2VtZW50czogWydcXFxcc3Vwc2V0J10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnZW1wdHknLCByZXBsYWNlbWVudHM6IFsnXFxcXGVtcHR5c2V0J10gfSxcblxuICAgICAgICAvLyBNaXNjZWxsYW5lb3VzIHN5bWJvbHNcbiAgICAgICAgeyBwYXR0ZXJuOiAnLi4uJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxsZG90cyddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ1x1MDBCMCcsIHJlcGxhY2VtZW50czogWydcXFxcZGVncmVlJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnXHUwMEEzJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxwb3VuZHMnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICckJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFwkJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnJScsIHJlcGxhY2VtZW50czogWydcXFxcJSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJyYnLCByZXBsYWNlbWVudHM6IFsnXFxcXCYnXSB9LFxuXG4gICAgICAgIC8vIEFjY2VudHNcbiAgICAgICAgeyBwYXR0ZXJuOiAnaGF0JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxoYXR7fSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ2JhcicsIHJlcGxhY2VtZW50czogWydcXFxcYmFye30nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd0aWxkZScsIHJlcGxhY2VtZW50czogWydcXFxcdGlsZGV7fSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ3ZlYycsIHJlcGxhY2VtZW50czogWydcXFxcdmVje30nXSB9LFxuXG4gICAgICAgIC8vIENvbW1vbiBmdW5jdGlvbnNcbiAgICAgICAgeyBwYXR0ZXJuOiAnc2luJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxzaW4nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdjb3MnLCByZXBsYWNlbWVudHM6IFsnXFxcXGNvcyddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ3RhbicsIHJlcGxhY2VtZW50czogWydcXFxcdGFuJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnbG9nJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxsb2cnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdsbicsIHJlcGxhY2VtZW50czogWydcXFxcbG4nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdleHAnLCByZXBsYWNlbWVudHM6IFsnXFxcXGV4cCddIH0sXG5cbiAgICAgICAgLy8gRnJhY3Rpb25zIGFuZCBiaW5vbWlhbHNcbiAgICAgICAgeyBwYXR0ZXJuOiAnZnJhYycsIHJlcGxhY2VtZW50czogWydUOlxcXFxmcmFjeyQxfXskMn0nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdiaW5vbScsIHJlcGxhY2VtZW50czogWydcXFxcYmlub217fXt9J10gfSxcblxuICAgICAgICAvLyBPdmVyIGFuZCB1bmRlciBzeW1ib2xzXG4gICAgICAgIHsgdHlwZTogJ3JlZ2V4JywgcGF0dGVybjogJyguKilfb3ZlciQnLCByZXBsYWNlbWVudHM6IFsnXFxcXG92ZXJsaW5leyQxfSddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ3VuZGVybGluZScsIHJlcGxhY2VtZW50czogWydcXFxcdW5kZXJsaW5le30nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdvdmVyc2V0JywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxvdmVyc2V0e317fX0nXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICd1bmRlcnNldCcsIHJlcGxhY2VtZW50czogWydcXFxcdW5kZXJzZXR7fXt9fSddIH0sXG5cbiAgICAgICAgLy8gTG9naWNhbCBxdWFudGlmaWVyc1xuICAgICAgICB7IHBhdHRlcm46ICdmb3JhbGwnLCByZXBsYWNlbWVudHM6IFsnXFxcXGZvcmFsbCddIH0sXG4gICAgICAgIHsgcGF0dGVybjogJ2V4aXN0cycsIHJlcGxhY2VtZW50czogWydcXFxcZXhpc3RzJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnbmV4aXN0cycsIHJlcGxhY2VtZW50czogWydcXFxcbmV4aXN0cyddIH0sXG5cbiAgICAgICAgLy8gTWlzY2VsbGFuZW91c1xuICAgICAgICB7IHBhdHRlcm46ICdhbGVwaCcsIHJlcGxhY2VtZW50czogWydcXFxcYWxlcGgnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdoYmFyJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxoYmFyJ10gfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAnZWxsJywgcmVwbGFjZW1lbnRzOiBbJ1xcXFxlbGwnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdSZScsIHJlcGxhY2VtZW50czogWydcXFxcUmUnXSB9LFxuICAgICAgICB7IHBhdHRlcm46ICdJbScsIHJlcGxhY2VtZW50czogWydcXFxcSW0nXSB9LFxuICAgIF1cbn07XG5cbmV4cG9ydCBjbGFzcyBDb25maWdNYW5hZ2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2F2ZUNvbmZpZyhjb25maWc6IENvbmZpZykge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLmNvbmZpZyk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZENvbmZpZygpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0NPTkZJRywgYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKSk7XG4gICAgICAgIHRoaXMubWF0Y2hlciA9IG5ldyBTdWdnZXN0aW9uTWF0Y2hlcih0aGlzLmNvbmZpZy5wYXR0ZXJucyk7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlQ29uZmlnKG5ld0NvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IG5ld0NvbmZpZztcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlQ29uZmlnKHRoaXMuY29uZmlnKTtcbiAgICAgICAgdGhpcy5tYXRjaGVyID0gbmV3IFN1Z2dlc3Rpb25NYXRjaGVyKHRoaXMuY29uZmlnLnBhdHRlcm5zKTtcbiAgICB9XG5cbiAgICBhc3luYyByZXNldENvbmZpZygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVDb25maWcoREVGQVVMVF9DT05GSUcpO1xuICAgIH1cblxuXG59XG4iLCAiLy9pbXBvcnQgeyBUZW1wbGF0ZUZvcm0gfSBmcm9tIFwiLi90ZW1wbGF0ZV9mb3JtXCI7XG5cbmltcG9ydCB7XG4gICAgTWFya2Rvd25SZW5kZXJlcixcbiAgICBNYXJrZG93blZpZXcsXG59IGZyb20gJ29ic2lkaWFuJztcblxuY29uc3QgVEVNUExBVEVfUFJFRklYID0gXCJUOlwiO1xuXG4vLyBJbnRlcmZhY2UgZm9yIHRoZSBpbnB1dCBoYW5kbGVyXG5pbnRlcmZhY2UgSW5wdXRIYW5kbGVyIHtcbiAgICByZXBsYWNlQ3Vyc29yVGV4dDogKHRleHQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFN1Z2dlc3Rpb25Qb3B1cCB7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcml2YXRlIGlzVmlzaWJsZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIGN1cnJlbnRNYXRjaDogc3RyaW5nIHwgbnVsbDtcbiAgICBwcml2YXRlIGN1cnJlbnRSZXBsYWNlbWVudHM6IHN0cmluZ1tdIHwgbnVsbDtcbiAgICBwcml2YXRlIGZhc3RSZXBsYWNlOiBib29sZWFuO1xuICAgIHByaXZhdGUgc2VsZWN0ZWRJbmRleDogbnVtYmVyO1xuICAgIHByaXZhdGUgaW5wdXRIYW5kbGVyOiBJbnB1dEhhbmRsZXIgfCBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY3JlYXRlRWxlbWVudCgpO1xuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRNYXRjaCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFJlcGxhY2VtZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmFzdFJlcGxhY2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuaW5wdXRIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcblxuICAgICAgICAvLyBCaW5kIG1ldGhvZHMgdGhhdCBhcmUgdXNlZCBhcyBldmVudCBoYW5kbGVyc1xuICAgICAgICB0aGlzLmhhbmRsZURvY3VtZW50Q2xpY2sgPSB0aGlzLmhhbmRsZURvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVLZXlEb3duID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gQWRkIGdsb2JhbCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZURvY3VtZW50Q2xpY2spO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUVsZW1lbnQoKTogSFRNTERpdkVsZW1lbnQge1xuICAgICAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwb3B1cC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMnB4O1xuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsMCwwLDAuMik7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwO1xuICAgICAgICBgO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwKTtcbiAgICAgICAgcmV0dXJuIHBvcHVwO1xuICAgIH1cblxuICAgIHNob3coeDogbnVtYmVyLCB5OiBudW1iZXIsIG1hdGNoOiBzdHJpbmcsIHJlcGxhY2VtZW50czogc3RyaW5nW10sIGlucHV0SGFuZGxlcjogSW5wdXRIYW5kbGVyLCBmYXN0UmVwbGFjZSA9IGZhbHNlLCB2aWV3OiBNYXJrZG93blZpZXcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVwbGFjZW1lbnRzID0gcmVwbGFjZW1lbnRzO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5pbnB1dEhhbmRsZXIgPSBpbnB1dEhhbmRsZXI7XG4gICAgICAgIHRoaXMuZmFzdFJlcGxhY2UgPSBmYXN0UmVwbGFjZSAmJiByZXBsYWNlbWVudHMubGVuZ3RoID09PSAxO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGAke3ggKyA1fXB4YDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmJvdHRvbSA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAtIHl9cHhgO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnQodmlldyk7XG4gICAgfVxuXG4gICAgaGlkZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuY3VycmVudE1hdGNoID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVwbGFjZW1lbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNvbnRlbnQodmlldzogTWFya2Rvd25WaWV3KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50TWF0Y2ggfHwgIXRoaXMuY3VycmVudFJlcGxhY2VtZW50cykgcmV0dXJuO1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgICAgICAgLy8gRGVmaW5lIHRoZSBDU1MgcnVsZVxuICAgICAgICBjb25zdCBjc3NSdWxlID0gYFxuICAgICAgICAgIHAge1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBDU1MgcnVsZSB0byB0aGUgc3R5bGUgZWxlbWVudFxuICAgICAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBjc3NSdWxlO1xuXG4gICAgICAgIC8vIEluc2VydCB0aGUgc3R5bGUgZWxlbWVudCBhcyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIGRpdlxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSZXBsYWNlbWVudHMuZm9yRWFjaCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXBwbGllZFJlcGxhY2VtZW50ID0gb3B0aW9uLnN0YXJ0c1dpdGgoVEVNUExBVEVfUFJFRklYKVxuICAgICAgICAgICAgICAgID8gb3B0aW9uLnNsaWNlKFRFTVBMQVRFX1BSRUZJWC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgOiBvcHRpb247XG5cbiAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBzcGFuLmlkID0gYHN1Z2dlc3Rpb24tJHtpbmRleH1gO1xuICAgICAgICAgICAgc3Bhbi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IHRoaXMuc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnN0eWxlLmJhY2tncm91bmQgPSAnI2YwZjBmMCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSB0aGlzLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFN1Z2dlc3Rpb24oaW5kZXgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBpbmRpY2F0b3Igc3BhblxuICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZhc3RSZXBsYWNlICYmIHRoaXMuY3VycmVudFJlcGxhY2VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JTcGFuLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMjJjNTVlO1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjZlbTtcbiAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgIGluZGljYXRvclNwYW4udGV4dENvbnRlbnQgPSAnXHUyNkExJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yU3Bhbi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuN2VtO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzg4ODtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JTcGFuLnRleHRDb250ZW50ID0gYCR7aW5kZXggKyAxfS5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgbWF0aCBjb250ZW50IHNwYW5cbiAgICAgICAgICAgIGNvbnN0IG1hdGhTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGluZGljYXRvclNwYW4pO1xuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChtYXRoU3Bhbik7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlck1hcmtkb3duKFxuICAgICAgICAgICAgICAgIGAkJHthcHBsaWVkUmVwbGFjZW1lbnR9JGAsXG4gICAgICAgICAgICAgICAgbWF0aFNwYW4sXG4gICAgICAgICAgICAgICAgdmlldy5maWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgdmlld1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVHlwZVNjcmlwdCBkb2Vzbid0IGtub3cgYWJvdXQgTWF0aEpheCBieSBkZWZhdWx0LCBzbyB3ZSBuZWVkIHRvIGRlY2xhcmUgaXRcbiAgICAgICAgLy8od2luZG93IGFzIGFueSkuTWF0aEpheC50eXBlc2V0UHJvbWlzZShbdGhpcy5lbGVtZW50XSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTZWxlY3RlZFN1Z2dlc3Rpb24oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTFNwYW5FbGVtZW50Pignc3BhbltpZF49XCJzdWdnZXN0aW9uLVwiXScpO1xuICAgICAgICBzdWdnZXN0aW9ucy5mb3JFYWNoKHNwYW4gPT4ge1xuICAgICAgICAgICAgc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFNwYW4gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MU3BhbkVsZW1lbnQ+KGAjc3VnZ2VzdGlvbi0ke3RoaXMuc2VsZWN0ZWRJbmRleH1gKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNwYW4pIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNwYW4uc3R5bGUuYmFja2dyb3VuZCA9ICcjZTBlMGZmJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2VsZWN0U3VnZ2VzdGlvbihpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UmVwbGFjZW1lbnRzIHx8ICF0aGlzLnZpZXcpIHJldHVybjtcblxuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuY3VycmVudFJlcGxhY2VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gdGhpcy5jdXJyZW50UmVwbGFjZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudC5zdGFydHNXaXRoKFRFTVBMQVRFX1BSRUZJWCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtID0gbmV3IFRlbXBsYXRlRm9ybShyZXBsYWNlbWVudC5zbGljZShURU1QTEFURV9QUkVGSVgubGVuZ3RoKSwgdGhpcy5pbnB1dEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGZvcm0uc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMudmlldy5lZGl0b3Iub2Zmc2V0VG9Qb3MoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5lZGl0b3IucG9zVG9PZmZzZXQodGhpcy52aWV3LmVkaXRvci5nZXRDdXJzb3IoKSkgLSB0aGlzLmN1cnJlbnRNYXRjaC5sZW5ndGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5lZGl0b3IucmVwbGFjZVJhbmdlKHJlcGxhY2VtZW50LCBzdGFydCwgdGhpcy52aWV3LmVkaXRvci5nZXRDdXJzb3IoKSk7XG4gICAgICAgICAgICAgICAgLy90aGlzLmlucHV0SGFuZGxlci5yZXBsYWNlQ3Vyc29yVGV4dChyZXBsYWNlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUgfHwgIXRoaXMuY3VycmVudFJlcGxhY2VtZW50cykgcmV0dXJuO1xuXG4gICAgICAgIC8vIEhhbmRsZSBmYXN0IHJlcGxhY2UgZm9yIG5vbi1hbHBoYW51bWVyaWMga2V5c1xuICAgICAgICBpZiAodGhpcy5mYXN0UmVwbGFjZSAmJlxuICAgICAgICAgICAgIS9eW2EtekEtWjAtOV0kLy50ZXN0KGUua2V5KSAmJlxuICAgICAgICAgICAgIVsnRXNjYXBlJywgJ1RhYicsICdCYWNrc3BhY2UnXS5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbigwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdUYWInOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4IDwgdGhpcy5jdXJyZW50UmVwbGFjZW1lbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZFN1Z2dlc3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbih0aGlzLnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPj0gJzEnICYmIGUua2V5IDw9ICc5Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KGUua2V5KSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHRoaXMuY3VycmVudFJlcGxhY2VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbihpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZURvY3VtZW50Q2xpY2soZTogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUgJiYgIXRoaXMuZWxlbWVudC5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlRG9jdW1lbnRDbGljayk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24pO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFRTzs7O0FDWVAscUJBQWU7QUFBQSxFQUlYLGNBQWM7QUFDVixTQUFLLFdBQVc7QUFDaEIsU0FBSyxRQUFRO0FBQUE7QUFBQTtBQUlyQixpQkFBVztBQUFBLEVBT1AsWUFBWSxPQUFtQjtBQUMzQixTQUFLLE9BQU8sSUFBSTtBQUNoQixlQUFXLEVBQUUsTUFBTSxXQUFXLE9BQU87QUFDakMsV0FBSyxPQUFPLE1BQU07QUFBQTtBQUFBO0FBQUEsRUFTbEIsT0FBTyxNQUFjLE9BQXNCO0FBQy9DLFFBQUksT0FBTyxLQUFLO0FBQ2hCLGVBQVcsUUFBUSxNQUFNO0FBQ3JCLFVBQUksQ0FBQyxLQUFLLFNBQVMsT0FBTztBQUN0QixhQUFL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QztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQyxRQUFRO0FBQUEsSUFDdkMsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDLFNBQVM7QUFBQSxJQUN4QyxFQUFFLFNBQVMsS0FBSyxjQUFjLENBQUMsV0FBVztBQUFBLElBQzFDLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQztBQUFBLElBQy9CLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQyxTQUFTO0FBQUEsSUFDeEMsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFHL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFHL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDLFdBQVc7QUFBQSxJQUMxQyxFQUFFLFNBQVMsS0FBSyxjQUFjLENBQUMsWUFBWTtBQUFBLElBQzNDLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQyxXQUFXO0FBQUEsSUFDMUMsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDLFlBQVk7QUFBQSxJQUMzQyxFQUFFLFNBQVMsS0FBSyxjQUFjLENBQUMsYUFBYTtBQUFBLElBQzVDLEVBQUUsU0FBUyxLQUFLLGNBQWMsQ0FBQyxjQUFjO0FBQUEsSUFDN0MsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDLFdBQVc7QUFBQSxJQUcxQyxFQUFFLFNBQVMsTUFBTSxjQUFjLENBQUMsZ0JBQWdCO0FBQUEsSUFDaEQsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE9BQU8sY0FBYyxDQUFDO0FBQUEsSUFDakMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFHaEMsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFFL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLE9BQU8sY0FBYyxDQUFDO0FBQUEsSUFDakMsRUFBRSxTQUFTLE9BQU8sY0FBYyxDQUFDO0FBQUEsSUFDakMsRUFBRSxTQUFTLE9BQU8sY0FBYyxDQUFDO0FBQUEsSUFDakMsRUFBRSxTQUFTLE9BQU8sY0FBYyxDQUFDO0FBQUEsSUFDakMsRUFBRSxTQUFTLFFBQVEsY0FBYyxDQUFDO0FBQUEsSUFDbEMsRUFBRSxTQUFTLFFBQVEsY0FBYyxDQUFDO0FBQUEsSUFHbEMsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFHaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDaEMsRUFBRSxTQUFTLFVBQVUsY0FBYyxDQUFDO0FBQUEsSUFDcEMsRUFBRSxTQUFTLFVBQVUsY0FBYyxDQUFDO0FBQUEsSUFDcEMsRUFBRSxTQUFTLFNBQVMsY0FBYyxDQUFDO0FBQUEsSUFHbkMsRUFBRSxTQUFTLE9BQU8sY0FBYyxDQUFDO0FBQUEsSUFDakMsRUFBRSxTQUFTLFFBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLFFBQUssY0FBYyxDQUFDO0FBQUEsSUFDL0IsRUFBRSxTQUFTLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFD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
